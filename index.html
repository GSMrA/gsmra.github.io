<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>GeekSoft - Redirection</title>
  <style>
    /* Loader CSS */
    .loader {
      width: 35px;
      aspect-ratio: 1;
      --_g: no-repeat radial-gradient(farthest-side,#000 94%,#0000);
      background:
        var(--_g) 0    0,
        var(--_g) 100% 0,
        var(--_g) 100% 100%,
        var(--_g) 0    100%;
      background-size: 40% 40%;
      animation: l38 .5s infinite; 
      margin: 25px auto;
    }
    @keyframes l38 {
      100% {background-position: 100% 0,100% 100%,0 100%,0 0}
    }
    /* Minimal page style */
    body {margin:0;}
    #main-content {display:flex; flex-direction:column; align-items:center;}
  </style>
</head>
<body>
  <!-- TOPBAR (à adapter avec ta vraie topbar si besoin) -->
  <nav style="background:#333;color:#fff;padding:10px 20px;">
    <strong>GeekSoft</strong> | <a href="Acceuil.html" style="color:#fff;">Accueil</a>
  </nav>
  <div id="main-content">
    <div class="loader"></div>
    <p id="status" style="text-align:center;margin-top:10px;">Vérification du serveur...</p>
  </div>
  <script>
    // Async check server
    fetch("https://devmra.pythonanywhere.com/alive")
      .then(res => res.text())
      .then(txt => {
        if(txt.trim() === "Le Serveur Python Anywhere est Bien en Ligne.") {
          window.location.replace("Acceuil.html");
        } else {
          showMaintenance();
        }
      })
      .catch(showMaintenance);

    function showMaintenance() {
      document.getElementById("status").textContent =
        "Le serveur est en maintenance. Revenez plus tard.";
      // Loader reste affiché
    }
  </script>
</body>
</html>
