<!DOCTYPE html>
<html lang="fr">
<head>
  <title>GeekSoft - Redirection</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="icon" type="image/png" href="GEEKSOFT.png">
  <style>
    :root {
      --black: #1e1e1e;
      --white: #fff;
      --muted: #b2b2b2;
      --card-bg: #28292d;
      --card-border: #333;
      --glow: #686868;
      --gray-bg: #191919;
      --max-width: 1100px;
      --shadow: 0 4px 24px rgba(40, 40, 50, 0.16), 0 1.5px 8px #4446;
      --bar-bg: #222930;
      --bar-accent: #32c1ff;
    }
    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Arial Black', Impact, sans-serif;
      background: var(--gray-bg);
      color: var(--white);
    }
    .topbar {
      position: fixed;
      top: 20px;
      left: 50vw;
      transform: translateX(-50%);
      background: #000;
      color: var(--white);
      padding: 28px 40px;
      display: flex;
      justify-content: space-between;
      box-shadow: 0 0 30px var(--glow), 0 8px 20px rgba(255,255,255,0.2);
      border-radius: 24px;
      width: 93vw;
      max-width: 1300px;
      z-index: 1000;
      animation: slideDown 0.8s cubic-bezier(.44,1.3,.44,1) forwards;
    }
    @keyframes slideDown {
      from { opacity:0; transform: translateX(-50%) translateY(-40px);}
      to { opacity:1; transform: translateX(-50%) translateY(0);}
    }
    .logo { height: 70px; width: auto; display: block; filter: drop-shadow(0 0 15px var(--glow)); }
    .title {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      font-weight: 900;
      font-size: 3.5rem;
      letter-spacing: 3px;
      text-transform: uppercase;
      color: var(--white);
      text-shadow: 0 0 15px var(--glow), 0 0 30px var(--glow);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 90vw;
    }
    /* Loader CSS */
    .loader {
      width: 35px;
      aspect-ratio: 1;
      --_g: no-repeat radial-gradient(farthest-side,#000 94%,#0000);
      background:
        var(--_g) 0    0,
        var(--_g) 100% 0,
        var(--_g) 100% 100%,
        var(--_g) 0    100%;
      background-size: 40% 40%;
      animation: l38 .5s infinite; 
      margin: 55px auto 5px auto;
    }
    @keyframes l38 {
      100% {background-position: 100% 0,100% 100%,0 100%,0 0}
    }
    #main-content {
      margin-top: 160px;
      display: flex;
      flex-direction:column;
      align-items:center;
    }
    @media (max-width:480px){
      .logo{height:45px}
      .title{font-size:1.25rem;}
      .topbar {padding: 10px;}
      #main-content {margin-top: 105px;}
    }
  </style>
</head>
<body>
  <header class="topbar">
    <img src="GEEKSOFT.png" alt="GEEKSOFT" class="logo" />
    <div class="title">GeekSoft</div>
  </header>
  <div id="main-content">
    <div class="loader"></div>
    <p id="status" style="text-align:center;margin-top:10px;">VÃ©rification du serveur...</p>
  </div>
  <script>
    // Async check server
    fetch("https://devmra.pythonanywhere.com/alive")
      .then(res => res.text())
      .then(txt => {
        if(txt.trim() === "ALIVE") {
          window.location.replace("acceuil/");
        } else {
          showMaintenance();
        }
      })
      .catch(showMaintenance);

    function showMaintenance() {
      document.getElementById("status").textContent =
        "Le serveur est en maintenance. Revenez plus tard.";
    }
  </script>
</body>
</html>
